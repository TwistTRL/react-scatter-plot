(this["webpackJsonpreact-scatter-plot"]=this["webpackJsonpreact-scatter-plot"]||[]).push([[0],{12:function(t,a,e){t.exports=e(18)},18:function(t,a,e){"use strict";e.r(a);var n=e(11),o=e(7),i=e(1),r=e(2),s=e(4),c=e(3),l=e(5),u=e(0),h=e.n(u),v=e(10),d=e.n(v),f=e(6),C=e.n(f);var p=function(t){function a(t){var e;return Object(i.a)(this,a),(e=Object(s.a)(this,Object(c.a)(a).call(this,t))).drawScatterPlot=function(t){var a=e.props,n=a.data,o=a.dataPointColors,i=a.visibleXRange,r=a.minY,s=a.maxY,c=a.xAxisKey,l=a.yAxisKey;void 0!==n&&(t.clearRect(0,0,e.canvasW,e.canvasH),n.forEach((function(a,n){a.length>0&&a.forEach((function(a){var u,h,v,d,f=(h=e.canvasW,v=i[0],d=i[1],(a[c]-v)/((d-v)/h)),C=e.getCircle(o[n]);u=function(t,a,e,n){return t-(n-a)/((e-a)/t)}(e.canvasH,r,s,a[l]),t.drawImage(C,f,u)}))})))},e.canvasW=e.props.width,e.canvasH=e.props.height,e.dataPointColorCanvasCache={},e}return Object(l.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.scatterPlotCanvas=this.refs.scatterPlotCanvas,this.scatterPlotCtx=this.scatterPlotCanvas.getContext("2d"),this.drawScatterPlot(this.scatterPlotCtx)}},{key:"componentDidUpdate",value:function(t,a){this.drawScatterPlot(this.scatterPlotCtx)}},{key:"shouldComponentUpdate",value:function(t,a){return!C()(this.props,t)||this.state!==a}},{key:"roundRect",value:function(t,a,e,n,o,i,r){var s=n-a,c=o-e;i>s/2&&(i=s/2),i>c/2&&(i=c/2),t.beginPath(),t.moveTo(n-i,e),t.quadraticCurveTo(n,e,n,e+i),t.lineTo(n,o-i),t.quadraticCurveTo(n,o,n-i,o),t.lineTo(a+i,o),t.quadraticCurveTo(a,o,a,o-i),t.lineTo(a,e+i),t.quadraticCurveTo(a,e,a+i,e),t.closePath(),t.fillStyle=r,t.fill()}},{key:"getCircle",value:function(t){if(void 0===this.dataPointColorCanvasCache[t]){var a=document.createElement("canvas");a.width=6,a.height=6;var e=a.getContext("2d");e.arc(3,3,2,0,2*Math.PI),e.fillStyle=t,e.fill(),this.dataPointColorCanvasCache[t]=a}return this.dataPointColorCanvasCache[t]}},{key:"render",value:function(){return h.a.createElement("canvas",{className:"scatter-plot-canvas",ref:"scatterPlotCanvas",width:this.canvasW,height:this.canvasH,style:{position:"absolute"}})}}]),a}(u.Component),m=function(t){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(l.a)(a,t),Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(t,a){return!C()(this.props,t)||this.state!==a}},{key:"render",value:function(){var t=this.props,a=t.data,e=t.dataPointColors,n=t.visibleXRange,o=t.width,i=t.height,r=t.minY,s=t.maxY,c=t.xAxisKey,l=t.yAxisKey;if(a.length<1||void 0===a)return null;var u=[];return a.forEach((function(t,a){u[a]=t.filter((function(t){return t[c]>=n[0]&&t[c]<=n[1]}))})),h.a.createElement(p,{data:u,dataPointColors:e,visibleXRange:n,width:o,height:i,minY:r,maxY:s,xAxisKey:c,yAxisKey:l})}}]),a}(u.Component);function y(){for(var t="#",a=0;a<6;a++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}var b=function(t){function a(t){var e;return Object(i.a)(this,a),(e=Object(s.a)(this,Object(c.a)(a).call(this,t))).generateDummyData=function(t,a,e){for(var n,o,i=[],r=t[0];r<t[1];r+=e)i.push({time:r,value:(n=a[0],o=a[1],Math.floor(Math.random()*(o-n+1))+n)});return i},e.state={visibleXRange:[1492858e6,15136956e5],currentOverlay:null,data:[],dataPointColors:["#d50000","#ff6d00","#546e7a"]},e.dataSetCount=4,e}return Object(l.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){for(var t=[],a=[],e=0;e<this.dataSetCount;e++)t[e]=Object(o.a)(this.generateDummyData([1482858e6,15136956e5],[1,200],1e8)),a[e]=y();this.setState(Object(n.a)({},this.state,{data:t,dataPointColors:a}))}},{key:"render",value:function(){var t=this.state,a=t.data,e=t.visibleXRange,n=t.dataPointColors;return h.a.createElement(m,{data:a,visibleXRange:Object(o.a)(e),width:1200,minY:0,maxY:200,height:400,xAxisKey:"time",yAxisKey:"value",dataPointColors:n})}}]),a}(u.PureComponent);d.a.render(h.a.createElement(b,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.0b508d95.chunk.js.map